import{r as V,j as je,g as mn}from"./react-CdjQE9Lx.js";var Oe={exports:{}},Ce={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var At;function gn(){return At||(At=1,function(t){function e(v,R){var F=v.length;v.push(R);e:for(;0<F;){var L=F-1>>>1,N=v[L];if(0<r(N,R))v[L]=R,v[F]=N,F=L;else break e}}function s(v){return v.length===0?null:v[0]}function n(v){if(v.length===0)return null;var R=v[0],F=v.pop();if(F!==R){v[0]=F;e:for(var L=0,N=v.length,me=N>>>1;L<me;){var ge=2*(L+1)-1,Re=v[ge],j=ge+1,ye=v[j];if(0>r(Re,F))j<N&&0>r(ye,Re)?(v[L]=ye,v[j]=F,L=j):(v[L]=Re,v[ge]=F,L=ge);else if(j<N&&0>r(ye,F))v[L]=ye,v[j]=F,L=j;else break e}}return R}function r(v,R){var F=v.sortIndex-R.sortIndex;return F!==0?F:v.id-R.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],h=[],c=1,f=null,u=3,p=!1,d=!1,m=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function x(v){for(var R=s(h);R!==null;){if(R.callback===null)n(h);else if(R.startTime<=v)n(h),R.sortIndex=R.expirationTime,e(l,R);else break;R=s(h)}}function b(v){if(m=!1,x(v),!d)if(s(l)!==null)d=!0,T||(T=!0,P());else{var R=s(h);R!==null&&q(b,R.startTime-v)}}var T=!1,A=-1,E=5,O=-1;function C(){return y?!0:!(t.unstable_now()-O<E)}function D(){if(y=!1,T){var v=t.unstable_now();O=v;var R=!0;try{e:{d=!1,m&&(m=!1,M(A),A=-1),p=!0;var F=u;try{t:{for(x(v),f=s(l);f!==null&&!(f.expirationTime>v&&C());){var L=f.callback;if(typeof L=="function"){f.callback=null,u=f.priorityLevel;var N=L(f.expirationTime<=v);if(v=t.unstable_now(),typeof N=="function"){f.callback=N,x(v),R=!0;break t}f===s(l)&&n(l),x(v)}else n(l);f=s(l)}if(f!==null)R=!0;else{var me=s(h);me!==null&&q(b,me.startTime-v),R=!1}}break e}finally{f=null,u=F,p=!1}R=void 0}}finally{R?P():T=!1}}}var P;if(typeof w=="function")P=function(){w(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,_=z.port2;z.port1.onmessage=D,P=function(){_.postMessage(null)}}else P=function(){g(D,0)};function q(v,R){A=g(function(){v(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(v){v.callback=null},t.unstable_forceFrameRate=function(v){0>v||125<v?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<v?Math.floor(1e3/v):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_next=function(v){switch(u){case 1:case 2:case 3:var R=3;break;default:R=u}var F=u;u=R;try{return v()}finally{u=F}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(v,R){switch(v){case 1:case 2:case 3:case 4:case 5:break;default:v=3}var F=u;u=v;try{return R()}finally{u=F}},t.unstable_scheduleCallback=function(v,R,F){var L=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?L+F:L):F=L,v){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=F+N,v={id:c++,callback:R,priorityLevel:v,startTime:F,expirationTime:N,sortIndex:-1},F>L?(v.sortIndex=F,e(h,v),s(l)===null&&v===s(h)&&(m?(M(A),A=-1):m=!0,q(b,F-L))):(v.sortIndex=N,e(l,v),d||p||(d=!0,T||(T=!0,P()))),v},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(v){var R=u;return function(){var F=u;u=R;try{return v.apply(this,arguments)}finally{u=F}}}}(Ce)),Ce}var St;function _o(){return St||(St=1,Oe.exports=gn()),Oe.exports}var ne={},_t;function yn(){if(_t)return ne;_t=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.parse=a,ne.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,i=(()=>{const u=function(){};return u.prototype=Object.create(null),u})();function a(u,p){const d=new i,m=u.length;if(m<2)return d;const y=(p==null?void 0:p.decode)||c;let g=0;do{const M=u.indexOf("=",g);if(M===-1)break;const w=u.indexOf(";",g),x=w===-1?m:w;if(M>x){g=u.lastIndexOf(";",M-1)+1;continue}const b=o(u,g,M),T=l(u,M,b),A=u.slice(b,T);if(d[A]===void 0){let E=o(u,M+1,x),O=l(u,x,E);const C=y(u.slice(E,O));d[A]=C}g=x+1}while(g<m);return d}function o(u,p,d){do{const m=u.charCodeAt(p);if(m!==32&&m!==9)return p}while(++p<d);return d}function l(u,p,d){for(;p>d;){const m=u.charCodeAt(--p);if(m!==32&&m!==9)return p+1}return d}function h(u,p,d){const m=(d==null?void 0:d.encode)||encodeURIComponent;if(!t.test(u))throw new TypeError(`argument name is invalid: ${u}`);const y=m(p);if(!e.test(y))throw new TypeError(`argument val is invalid: ${p}`);let g=u+"="+y;if(!d)return g;if(d.maxAge!==void 0){if(!Number.isInteger(d.maxAge))throw new TypeError(`option maxAge is invalid: ${d.maxAge}`);g+="; Max-Age="+d.maxAge}if(d.domain){if(!s.test(d.domain))throw new TypeError(`option domain is invalid: ${d.domain}`);g+="; Domain="+d.domain}if(d.path){if(!n.test(d.path))throw new TypeError(`option path is invalid: ${d.path}`);g+="; Path="+d.path}if(d.expires){if(!f(d.expires)||!Number.isFinite(d.expires.valueOf()))throw new TypeError(`option expires is invalid: ${d.expires}`);g+="; Expires="+d.expires.toUTCString()}if(d.httpOnly&&(g+="; HttpOnly"),d.secure&&(g+="; Secure"),d.partitioned&&(g+="; Partitioned"),d.priority)switch(typeof d.priority=="string"?d.priority.toLowerCase():void 0){case"low":g+="; Priority=Low";break;case"medium":g+="; Priority=Medium";break;case"high":g+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${d.priority}`)}if(d.sameSite)switch(typeof d.sameSite=="string"?d.sameSite.toLowerCase():d.sameSite){case!0:case"strict":g+="; SameSite=Strict";break;case"lax":g+="; SameSite=Lax";break;case"none":g+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${d.sameSite}`)}return g}function c(u){if(u.indexOf("%")===-1)return u;try{return decodeURIComponent(u)}catch{return u}}function f(u){return r.call(u)==="[object Date]"}return ne}yn();function bn(t,e){t.indexOf(e)===-1&&t.push(e)}function xn(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const H=(t,e,s)=>s>e?e:s<t?t:s;let ut=()=>{};const le={},wn=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ts(t){return typeof t=="object"&&t!==null}const Tn=t=>/^0[^.\s]+$/u.test(t);function ft(t){let e;return()=>(e===void 0&&(e=t()),e)}const ee=t=>t,vn=(t,e)=>s=>e(t(s)),dt=(...t)=>t.reduce(vn),vs=(t,e,s)=>{const n=e-t;return n===0?1:(s-t)/n};class En{constructor(){this.subscriptions=[]}add(e){return bn(this.subscriptions,e),()=>xn(this.subscriptions,e)}notify(e,s,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,s,n);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(e,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const te=t=>t*1e3,K=t=>t/1e3;function Es(t,e){return e?t*(1e3/e):0}const Ms=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,Mn=1e-7,An=12;function Sn(t,e,s,n,r){let i,a,o=0;do a=e+(s-e)/2,i=Ms(a,n,r)-t,i>0?s=a:e=a;while(Math.abs(i)>Mn&&++o<An);return a}function fe(t,e,s,n){if(t===e&&s===n)return ee;const r=i=>Sn(i,0,1,t,s);return i=>i===0||i===1?i:Ms(r(i),e,n)}const As=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ss=t=>e=>1-t(1-e),_s=fe(.33,1.53,.69,.99),pt=Ss(_s),Fs=As(pt),Rs=t=>(t*=2)<1?.5*pt(t):.5*(2-Math.pow(2,-10*(t-1))),mt=t=>1-Math.sin(Math.acos(t)),_n=Ss(mt),Os=As(mt),Fn=fe(.42,0,1,1),Rn=fe(0,0,.58,1),Cs=fe(.42,0,.58,1),On=t=>Array.isArray(t)&&typeof t[0]!="number",Ps=t=>Array.isArray(t)&&typeof t[0]=="number",Cn={linear:ee,easeIn:Fn,easeInOut:Cs,easeOut:Rn,circIn:mt,circInOut:Os,circOut:_n,backIn:pt,backInOut:Fs,backOut:_s,anticipate:Rs},Pn=t=>typeof t=="string",Ft=t=>{if(Ps(t)){ut(t.length===4);const[e,s,n,r]=t;return fe(e,s,n,r)}else if(Pn(t))return Cn[t];return t},be=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Dn(t,e){let s=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){a.has(c)&&(h.schedule(c),t()),c(o)}const h={schedule:(c,f=!1,u=!1)=>{const d=u&&r?s:n;return f&&a.add(c),d.has(c)||d.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[s,n]=[n,s],s.forEach(l),s.clear(),r=!1,i&&(i=!1,h.process(c))}};return h}const kn=40;function Ds(t,e){let s=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,a=be.reduce((w,x)=>(w[x]=Dn(i),w),{}),{setup:o,read:l,resolveKeyframes:h,preUpdate:c,update:f,preRender:u,render:p,postRender:d}=a,m=()=>{const w=le.useManualTiming?r.timestamp:performance.now();s=!1,le.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(w-r.timestamp,kn),1)),r.timestamp=w,r.isProcessing=!0,o.process(r),l.process(r),h.process(r),c.process(r),f.process(r),u.process(r),p.process(r),d.process(r),r.isProcessing=!1,s&&e&&(n=!1,t(m))},y=()=>{s=!0,n=!0,r.isProcessing||t(m)};return{schedule:be.reduce((w,x)=>{const b=a[x];return w[x]=(T,A=!1,E=!1)=>(s||y(),b.schedule(T,A,E)),w},{}),cancel:w=>{for(let x=0;x<be.length;x++)a[be[x]].cancel(w)},state:r,steps:a}}const{schedule:he,cancel:Ln,state:Ee,steps:Fo}=Ds(typeof requestAnimationFrame<"u"?requestAnimationFrame:ee,!0);let Te;function Vn(){Te=void 0}const $={now:()=>(Te===void 0&&$.set(Ee.isProcessing||le.useManualTiming?Ee.timestamp:performance.now()),Te),set:t=>{Te=t,queueMicrotask(Vn)}},ks=t=>e=>typeof e=="string"&&e.startsWith(t),Ro=ks("--"),zn=ks("var(--"),gt=t=>zn(t)?In.test(t.split("/*")[0].trim()):!1,In=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,se={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ce={...se,transform:t=>H(0,1,t)},xe={...se,default:1},ie=t=>Math.round(t*1e5)/1e5,yt=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Nn(t){return t==null}const Bn=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bt=(t,e)=>s=>!!(typeof s=="string"&&Bn.test(s)&&s.startsWith(t)||e&&!Nn(s)&&Object.prototype.hasOwnProperty.call(s,e)),Ls=(t,e,s)=>n=>{if(typeof n!="string")return n;const[r,i,a,o]=n.match(yt);return{[t]:parseFloat(r),[e]:parseFloat(i),[s]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},$n=t=>H(0,255,t),Pe={...se,transform:t=>Math.round($n(t))},X={test:bt("rgb","red"),parse:Ls("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:n=1})=>"rgba("+Pe.transform(t)+", "+Pe.transform(e)+", "+Pe.transform(s)+", "+ie(ce.transform(n))+")"};function Un(t){let e="",s="",n="",r="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),n=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),n=t.substring(3,4),r=t.substring(4,5),e+=e,s+=s,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const Xe={test:bt("#"),parse:Un,transform:X.transform},de=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),W=de("deg"),J=de("%"),S=de("px"),qn=de("vh"),Kn=de("vw"),Rt={...J,parse:t=>J.parse(t)/100,transform:t=>J.transform(t*100)},Q={test:bt("hsl","hue"),parse:Ls("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:n=1})=>"hsla("+Math.round(t)+", "+J.transform(ie(e))+", "+J.transform(ie(s))+", "+ie(ce.transform(n))+")"},I={test:t=>X.test(t)||Xe.test(t)||Q.test(t),parse:t=>X.test(t)?X.parse(t):Q.test(t)?Q.parse(t):Xe.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?X.transform(t):Q.transform(t),getAnimatableNone:t=>{const e=I.parse(t);return e.alpha=0,I.transform(e)}},Wn=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jn(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(yt))==null?void 0:e.length)||0)+(((s=t.match(Wn))==null?void 0:s.length)||0)>0}const Vs="number",zs="color",Xn="var",Yn="var(",Ot="${}",Gn=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ue(t){const e=t.toString(),s=[],n={color:[],number:[],var:[]},r=[];let i=0;const o=e.replace(Gn,l=>(I.test(l)?(n.color.push(i),r.push(zs),s.push(I.parse(l))):l.startsWith(Yn)?(n.var.push(i),r.push(Xn),s.push(l)):(n.number.push(i),r.push(Vs),s.push(parseFloat(l))),++i,Ot)).split(Ot);return{values:s,split:o,indexes:n,types:r}}function Is(t){return ue(t).values}function Ns(t){const{split:e,types:s}=ue(t),n=e.length;return r=>{let i="";for(let a=0;a<n;a++)if(i+=e[a],r[a]!==void 0){const o=s[a];o===Vs?i+=ie(r[a]):o===zs?i+=I.transform(r[a]):i+=r[a]}return i}}const Zn=t=>typeof t=="number"?0:I.test(t)?I.getAnimatableNone(t):t;function Hn(t){const e=Is(t);return Ns(t)(e.map(Zn))}const pe={test:jn,parse:Is,createTransformer:Ns,getAnimatableNone:Hn};function De(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function Qn({hue:t,saturation:e,lightness:s,alpha:n}){t/=360,e/=100,s/=100;let r=0,i=0,a=0;if(!e)r=i=a=s;else{const o=s<.5?s*(1+e):s+e-s*e,l=2*s-o;r=De(l,o,t+1/3),i=De(l,o,t),a=De(l,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function Me(t,e){return s=>s>0?e:t}const Fe=(t,e,s)=>t+(e-t)*s,ke=(t,e,s)=>{const n=t*t,r=s*(e*e-n)+n;return r<0?0:Math.sqrt(r)},Jn=[Xe,X,Q],er=t=>Jn.find(e=>e.test(t));function Ct(t){const e=er(t);if(!e)return!1;let s=e.parse(t);return e===Q&&(s=Qn(s)),s}const Pt=(t,e)=>{const s=Ct(t),n=Ct(e);if(!s||!n)return Me(t,e);const r={...s};return i=>(r.red=ke(s.red,n.red,i),r.green=ke(s.green,n.green,i),r.blue=ke(s.blue,n.blue,i),r.alpha=Fe(s.alpha,n.alpha,i),X.transform(r))},Ye=new Set(["none","hidden"]);function tr(t,e){return Ye.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function sr(t,e){return s=>Fe(t,e,s)}function xt(t){return typeof t=="number"?sr:typeof t=="string"?gt(t)?Me:I.test(t)?Pt:ir:Array.isArray(t)?Bs:typeof t=="object"?I.test(t)?Pt:nr:Me}function Bs(t,e){const s=[...t],n=s.length,r=t.map((i,a)=>xt(i)(i,e[a]));return i=>{for(let a=0;a<n;a++)s[a]=r[a](i);return s}}function nr(t,e){const s={...t,...e},n={};for(const r in s)t[r]!==void 0&&e[r]!==void 0&&(n[r]=xt(t[r])(t[r],e[r]));return r=>{for(const i in n)s[i]=n[i](r);return s}}function rr(t,e){const s=[],n={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],a=t.indexes[i][n[i]],o=t.values[a]??0;s[r]=o,n[i]++}return s}const ir=(t,e)=>{const s=pe.createTransformer(e),n=ue(t),r=ue(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?Ye.has(t)&&!r.values.length||Ye.has(e)&&!n.values.length?tr(t,e):dt(Bs(rr(n,r),r.values),s):Me(t,e)};function $s(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?Fe(t,e,s):xt(t)(t,e)}const ar=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>he.update(e,s),stop:()=>Ln(e),now:()=>Ee.isProcessing?Ee.timestamp:$.now()}},Us=(t,e,s=10)=>{let n="";const r=Math.max(Math.round(e/s),2);for(let i=0;i<r;i++)n+=Math.round(t(i/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Ae=2e4;function wt(t){let e=0;const s=50;let n=t.next(e);for(;!n.done&&e<Ae;)e+=s,n=t.next(e);return e>=Ae?1/0:e}function or(t,e=100,s){const n=s({...t,keyframes:[0,e]}),r=Math.min(wt(n),Ae);return{type:"keyframes",ease:i=>n.next(r*i).value/e,duration:K(r)}}const lr=5;function qs(t,e,s){const n=Math.max(e-lr,0);return Es(s-t(n),e-n)}const k={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Le=.001;function hr({duration:t=k.duration,bounce:e=k.bounce,velocity:s=k.velocity,mass:n=k.mass}){let r,i,a=1-e;a=H(k.minDamping,k.maxDamping,a),t=H(k.minDuration,k.maxDuration,K(t)),a<1?(r=h=>{const c=h*a,f=c*t,u=c-s,p=Ge(h,a),d=Math.exp(-f);return Le-u/p*d},i=h=>{const f=h*a*t,u=f*s+s,p=Math.pow(a,2)*Math.pow(h,2)*t,d=Math.exp(-f),m=Ge(Math.pow(h,2),a);return(-r(h)+Le>0?-1:1)*((u-p)*d)/m}):(r=h=>{const c=Math.exp(-h*t),f=(h-s)*t+1;return-Le+c*f},i=h=>{const c=Math.exp(-h*t),f=(s-h)*(t*t);return c*f});const o=5/t,l=ur(r,i,o);if(t=te(t),isNaN(l))return{stiffness:k.stiffness,damping:k.damping,duration:t};{const h=Math.pow(l,2)*n;return{stiffness:h,damping:a*2*Math.sqrt(n*h),duration:t}}}const cr=12;function ur(t,e,s){let n=s;for(let r=1;r<cr;r++)n=n-t(n)/e(n);return n}function Ge(t,e){return t*Math.sqrt(1-e*e)}const fr=["duration","bounce"],dr=["stiffness","damping","mass"];function Dt(t,e){return e.some(s=>t[s]!==void 0)}function pr(t){let e={velocity:k.velocity,stiffness:k.stiffness,damping:k.damping,mass:k.mass,isResolvedFromDuration:!1,...t};if(!Dt(t,dr)&&Dt(t,fr))if(t.visualDuration){const s=t.visualDuration,n=2*Math.PI/(s*1.2),r=n*n,i=2*H(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:k.mass,stiffness:r,damping:i}}else{const s=hr(t);e={...e,...s,mass:k.mass},e.isResolvedFromDuration=!0}return e}function Se(t=k.visualDuration,e=k.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:r}=s;const i=s.keyframes[0],a=s.keyframes[s.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:h,mass:c,duration:f,velocity:u,isResolvedFromDuration:p}=pr({...s,velocity:-K(s.velocity||0)}),d=u||0,m=h/(2*Math.sqrt(l*c)),y=a-i,g=K(Math.sqrt(l/c)),M=Math.abs(y)<5;n||(n=M?k.restSpeed.granular:k.restSpeed.default),r||(r=M?k.restDelta.granular:k.restDelta.default);let w;if(m<1){const b=Ge(g,m);w=T=>{const A=Math.exp(-m*g*T);return a-A*((d+m*g*y)/b*Math.sin(b*T)+y*Math.cos(b*T))}}else if(m===1)w=b=>a-Math.exp(-g*b)*(y+(d+g*y)*b);else{const b=g*Math.sqrt(m*m-1);w=T=>{const A=Math.exp(-m*g*T),E=Math.min(b*T,300);return a-A*((d+m*g*y)*Math.sinh(E)+b*y*Math.cosh(E))/b}}const x={calculatedDuration:p&&f||null,next:b=>{const T=w(b);if(p)o.done=b>=f;else{let A=b===0?d:0;m<1&&(A=b===0?te(d):qs(w,b,T));const E=Math.abs(A)<=n,O=Math.abs(a-T)<=r;o.done=E&&O}return o.value=o.done?a:T,o},toString:()=>{const b=Math.min(wt(x),Ae),T=Us(A=>x.next(b*A).value,b,30);return b+"ms "+T},toTransition:()=>{}};return x}Se.applyToOptions=t=>{const e=or(t,100,Se);return t.ease=e.ease,t.duration=te(e.duration),t.type="keyframes",t};function Ze({keyframes:t,velocity:e=0,power:s=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:h=.5,restSpeed:c}){const f=t[0],u={done:!1,value:f},p=E=>o!==void 0&&E<o||l!==void 0&&E>l,d=E=>o===void 0?l:l===void 0||Math.abs(o-E)<Math.abs(l-E)?o:l;let m=s*e;const y=f+m,g=a===void 0?y:a(y);g!==y&&(m=g-f);const M=E=>-m*Math.exp(-E/n),w=E=>g+M(E),x=E=>{const O=M(E),C=w(E);u.done=Math.abs(O)<=h,u.value=u.done?g:C};let b,T;const A=E=>{p(u.value)&&(b=E,T=Se({keyframes:[u.value,d(u.value)],velocity:qs(w,E,u.value),damping:r,stiffness:i,restDelta:h,restSpeed:c}))};return A(0),{calculatedDuration:null,next:E=>{let O=!1;return!T&&b===void 0&&(O=!0,x(E),A(E)),b!==void 0&&E>=b?T.next(E-b):(!O&&x(E),u)}}}function mr(t,e,s){const n=[],r=s||le.mix||$s,i=t.length-1;for(let a=0;a<i;a++){let o=r(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||ee:e;o=dt(l,o)}n.push(o)}return n}function Ks(t,e,{clamp:s=!0,ease:n,mixer:r}={}){const i=t.length;if(ut(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=mr(e,n,r),l=o.length,h=c=>{if(a&&c<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const u=vs(t[f],t[f+1],c);return o[f](u)};return s?c=>h(H(t[0],t[i-1],c)):h}function gr(t,e){const s=t[t.length-1];for(let n=1;n<=e;n++){const r=vs(0,e,n);t.push(Fe(s,1,r))}}function yr(t){const e=[0];return gr(e,t.length-1),e}function br(t,e){return t.map(s=>s*e)}function xr(t,e){return t.map(()=>e||Cs).splice(0,t.length-1)}function ae({duration:t=300,keyframes:e,times:s,ease:n="easeInOut"}){const r=On(n)?n.map(Ft):Ft(n),i={done:!1,value:e[0]},a=br(s&&s.length===e.length?s:yr(e),t),o=Ks(a,e,{ease:Array.isArray(r)?r:xr(e,r)});return{calculatedDuration:t,next:l=>(i.value=o(l),i.done=l>=t,i)}}const wr=t=>t!==null;function Tt(t,{repeat:e,repeatType:s="loop"},n,r=1){const i=t.filter(wr),o=r<0||e&&s!=="loop"&&e%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const Tr={decay:Ze,inertia:Ze,tween:ae,keyframes:ae,spring:Se};function Ws(t){typeof t.type=="string"&&(t.type=Tr[t.type])}class vt{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const vr=t=>t/100;class Et extends vt{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==$.now()&&this.tick($.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ws(e);const{type:s=ae,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const l=s||ae;l!==ae&&typeof o[0]!="number"&&(this.mixKeyframes=dt(vr,$s(o[0],o[1])),o=[0,100]);const h=l({...e,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=wt(h));const{calculatedDuration:c}=h;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=h}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:c,repeat:f,repeatType:u,repeatDelay:p,type:d,onUpdate:m,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const g=this.currentTime-h*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let w=this.currentTime,x=n;if(f){const E=Math.min(this.currentTime,r)/o;let O=Math.floor(E),C=E%1;!C&&E>=1&&(C=1),C===1&&O--,O=Math.min(O,f+1),!!(O%2)&&(u==="reverse"?(C=1-C,p&&(C-=p/o)):u==="mirror"&&(x=a)),w=H(0,1,C)*o}const b=M?{done:!1,value:c[0]}:x.next(w);i&&(b.value=i(b.value));let{done:T}=b;!M&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return A&&d!==Ze&&(b.value=Tt(c,this.options,y,this.speed)),m&&m(b.value),A&&this.finish(),b}then(e,s){return this.finished.then(e,s)}get duration(){return K(this.calculatedDuration)}get time(){return K(this.currentTime)}set time(e){var s;e=te(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime($.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=K(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:e=ar,startTime:s}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(r=this.options).onPlay)==null||i.call(r);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function Er(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Y=t=>t*180/Math.PI,He=t=>{const e=Y(Math.atan2(t[1],t[0]));return Qe(e)},Mr={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:He,rotateZ:He,skewX:t=>Y(Math.atan(t[1])),skewY:t=>Y(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Qe=t=>(t=t%360,t<0&&(t+=360),t),kt=He,Lt=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Vt=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Ar={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Lt,scaleY:Vt,scale:t=>(Lt(t)+Vt(t))/2,rotateX:t=>Qe(Y(Math.atan2(t[6],t[5]))),rotateY:t=>Qe(Y(Math.atan2(-t[2],t[0]))),rotateZ:kt,rotate:kt,skewX:t=>Y(Math.atan(t[4])),skewY:t=>Y(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function zt(t){return t.includes("scale")?1:0}function Je(t,e){if(!t||t==="none")return zt(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(s)n=Ar,r=s;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Mr,r=o}if(!r)return zt(e);const i=n[e],a=r[1].split(",").map(Sr);return typeof i=="function"?i(a):a[i]}const Oo=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return Je(s,e)};function Sr(t){return parseFloat(t.trim())}const Mt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Co=new Set(Mt),It=t=>t===se||t===S,_r=new Set(["x","y","z"]),Fr=Mt.filter(t=>!_r.has(t));function Rr(t){const e=[];return Fr.forEach(s=>{const n=t.getValue(s);n!==void 0&&(e.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),e}const G={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Je(e,"x"),y:(t,{transform:e})=>Je(e,"y")};G.translateX=G.x;G.translateY=G.y;const Z=new Set;let et=!1,tt=!1,st=!1;function js(){if(tt){const t=Array.from(Z).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),s=new Map;e.forEach(n=>{const r=Rr(n);r.length&&(s.set(n,r),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=s.get(n);r&&r.forEach(([i,a])=>{var o;(o=n.getValue(i))==null||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}tt=!1,et=!1,Z.forEach(t=>t.complete(st)),Z.clear()}function Xs(){Z.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(tt=!0)})}function Or(){st=!0,Xs(),js(),st=!1}class Ys{constructor(e,s,n,r,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Z.add(this),et||(et=!0,he.read(Xs),he.resolveKeyframes(js))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:n,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&s){const o=n.readValue(s,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),r&&i===void 0&&r.set(e[0])}Er(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Z.delete(this)}cancel(){this.state==="scheduled"&&(Z.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Cr=t=>t.startsWith("--");function Pr(t,e,s){Cr(e)?t.style.setProperty(e,s):t.style[e]=s}const Dr=ft(()=>window.ScrollTimeline!==void 0),kr={};function Lr(t,e){const s=ft(t);return()=>kr[e]??s()}const Gs=Lr(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),re=([t,e,s,n])=>`cubic-bezier(${t}, ${e}, ${s}, ${n})`,Nt={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:re([0,.65,.55,1]),circOut:re([.55,0,1,.45]),backIn:re([.31,.01,.66,-.59]),backOut:re([.33,1.53,.69,.99])};function Zs(t,e){if(t)return typeof t=="function"?Gs()?Us(t,e):"ease-out":Ps(t)?re(t):Array.isArray(t)?t.map(s=>Zs(s,e)||Nt.easeOut):Nt[t]}function Vr(t,e,s,{delay:n=0,duration:r=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},h=void 0){const c={[e]:s};l&&(c.offset=l);const f=Zs(o,r);Array.isArray(f)&&(c.easing=f);const u={delay:n,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return h&&(u.pseudoElement=h),t.animate(c,u)}function Hs(t){return typeof t=="function"&&"applyToOptions"in t}function zr({type:t,...e}){return Hs(t)&&Gs()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ir extends vt{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,ut(typeof e.type!="string");const h=zr(e);this.animation=Vr(s,n,r,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=Tt(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):Pr(s,n,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,n;const e=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return K(Number(e))}get time(){return K(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=te(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Dr()?(this.animation.timeline=e,ee):s(this)}}const Qs={anticipate:Rs,backInOut:Fs,circInOut:Os};function Nr(t){return t in Qs}function Br(t){typeof t.ease=="string"&&Nr(t.ease)&&(t.ease=Qs[t.ease])}const Bt=10;class $r extends Ir{constructor(e){Br(e),Ws(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:n,onComplete:r,element:i,...a}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const o=new Et({...a,autoplay:!1}),l=te(this.finishedTime??this.time);s.setWithVelocity(o.sample(l-Bt).value,o.sample(l).value,Bt),o.stop()}}const $t=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pe.test(t)||t==="0")&&!t.startsWith("url("));function Ur(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function qr(t,e,s,n){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=$t(r,e),o=$t(i,e);return!a||!o?!1:Ur(t)||(s==="spring"||Hs(s))&&n}function Js(t){return Ts(t)&&"offsetHeight"in t}const Kr=new Set(["opacity","clipPath","filter","transform"]),Wr=ft(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jr(t){var h;const{motionValue:e,name:s,repeatDelay:n,repeatType:r,damping:i,type:a}=t;if(!Js((h=e==null?void 0:e.owner)==null?void 0:h.current))return!1;const{onUpdate:o,transformTemplate:l}=e.owner.getProps();return Wr()&&s&&Kr.has(s)&&(s!=="transform"||!l)&&!o&&!n&&r!=="mirror"&&i!==0&&a!=="inertia"}const Xr=40;class Po extends vt{constructor({autoplay:e=!0,delay:s=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:h,element:c,...f}){var d;super(),this.stop=()=>{var m,y;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=$.now();const u={autoplay:e,delay:s,type:n,repeat:r,repeatDelay:i,repeatType:a,name:l,motionValue:h,element:c,...f},p=(c==null?void 0:c.KeyframeResolver)||Ys;this.keyframeResolver=new p(o,(m,y,g)=>this.onKeyframesResolved(m,y,u,!g),l,h,c),(d=this.keyframeResolver)==null||d.scheduleResolve()}onKeyframesResolved(e,s,n,r){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:h,onUpdate:c}=n;this.resolvedAt=$.now(),qr(e,i,a,o)||((le.instantAnimations||!l)&&(c==null||c(Tt(e,n,s))),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const u={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Xr?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:e},p=!h&&jr(u)?new $r({...u,element:u.motionValue.owner.current}):new Et(u);p.finished.then(()=>this.notifyFinished()).catch(ee),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Or()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Yr=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gr(t){const e=Yr.exec(t);if(!e)return[,];const[,s,n,r]=e;return[`--${s??n}`,r]}function en(t,e,s=1){const[n,r]=Gr(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const a=i.trim();return wn(a)?parseFloat(a):a}return gt(r)?en(r,e,s+1):r}function Do(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Zr=new Set(["width","height","top","left","right","bottom",...Mt]),Hr={test:t=>t==="auto",parse:t=>t},tn=t=>e=>e.test(t),sn=[se,S,J,W,Kn,qn,Hr],Ut=t=>sn.find(tn(t));function Qr(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Tn(t):!0}const Jr=new Set(["brightness","contrast","saturate","opacity"]);function ei(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=s.match(yt)||[];if(!n)return t;const r=s.replace(n,"");let i=Jr.has(e)?1:0;return n!==s&&(i*=100),e+"("+i+r+")"}const ti=/\b([a-z-]*)\(.*?\)/gu,nt={...pe,getAnimatableNone:t=>{const e=t.match(ti);return e?e.map(ei).join(" "):t}},qt={...se,transform:Math.round},si={rotate:W,rotateX:W,rotateY:W,rotateZ:W,scale:xe,scaleX:xe,scaleY:xe,scaleZ:xe,skew:W,skewX:W,skewY:W,distance:S,translateX:S,translateY:S,translateZ:S,x:S,y:S,z:S,perspective:S,transformPerspective:S,opacity:ce,originX:Rt,originY:Rt,originZ:S},ni={borderWidth:S,borderTopWidth:S,borderRightWidth:S,borderBottomWidth:S,borderLeftWidth:S,borderRadius:S,radius:S,borderTopLeftRadius:S,borderTopRightRadius:S,borderBottomRightRadius:S,borderBottomLeftRadius:S,width:S,maxWidth:S,height:S,maxHeight:S,top:S,right:S,bottom:S,left:S,padding:S,paddingTop:S,paddingRight:S,paddingBottom:S,paddingLeft:S,margin:S,marginTop:S,marginRight:S,marginBottom:S,marginLeft:S,backgroundPositionX:S,backgroundPositionY:S,...si,zIndex:qt,fillOpacity:ce,strokeOpacity:ce,numOctaves:qt},ri={...ni,color:I,backgroundColor:I,outlineColor:I,fill:I,stroke:I,borderColor:I,borderTopColor:I,borderRightColor:I,borderBottomColor:I,borderLeftColor:I,filter:nt,WebkitFilter:nt},ii=t=>ri[t];function ai(t,e){let s=ii(t);return s!==nt&&(s=pe),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const oi=new Set(["auto","none","0"]);function li(t,e,s){let n=0,r;for(;n<t.length&&!r;){const i=t[n];typeof i=="string"&&!oi.has(i)&&ue(i).values.length&&(r=t[n]),n++}if(r&&s)for(const i of e)t[i]=ai(s,r)}class ko extends Ys{constructor(e,s,n,r,i){super(e,s,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let h=e[l];if(typeof h=="string"&&(h=h.trim(),gt(h))){const c=en(h,s.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!Zr.has(n)||e.length!==2)return;const[r,i]=e,a=Ut(r),o=Ut(i);if(a!==o)if(It(a)&&It(o))for(let l=0;l<e.length;l++){const h=e[l];typeof h=="string"&&(e[l]=parseFloat(h))}else G[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,n=[];for(let r=0;r<e.length;r++)(e[r]===null||Qr(e[r]))&&n.push(r);n.length&&li(e,n,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=G[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const r=s[s.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){var o;const{element:e,name:s,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(s);r&&r.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=G[s](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,h])=>{e.getValue(l).set(h)}),this.resolveNoneKeyframes()}}function hi(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const r=(s==null?void 0:s[t])??n.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const Lo=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Kt=30,ci=t=>!isNaN(parseFloat(t)),Wt={current:void 0};class ui{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,r=!0)=>{var a,o;const i=$.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();r&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=$.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ci(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new En);const n=this.events[e].add(s);return e==="change"?()=>{n(),he.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Wt.current&&Wt.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=$.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Kt)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Kt);return Es(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vo(t,e){return new ui(t,e)}const{schedule:zo}=Ds(queueMicrotask,!1),B={x:!1,y:!1};function nn(){return B.x||B.y}function Io(t){return t==="x"||t==="y"?B[t]?null:(B[t]=!0,()=>{B[t]=!1}):B.x||B.y?null:(B.x=B.y=!0,()=>{B.x=B.y=!1})}function rn(t,e){const s=hi(t),n=new AbortController,r={passive:!0,...e,signal:n.signal};return[s,r,()=>n.abort()]}function jt(t){return!(t.pointerType==="touch"||nn())}function No(t,e,s={}){const[n,r,i]=rn(t,s),a=o=>{if(!jt(o))return;const{target:l}=o,h=e(l,o);if(typeof h!="function"||!l)return;const c=f=>{jt(f)&&(h(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,r)};return n.forEach(o=>{o.addEventListener("pointerenter",a,r)}),i}const an=(t,e)=>e?t===e?!0:an(t,e.parentElement):!1,fi=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,di=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pi(t){return di.has(t.tagName)||t.tabIndex!==-1}const ve=new WeakSet;function Xt(t){return e=>{e.key==="Enter"&&t(e)}}function Ve(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mi=(t,e)=>{const s=t.currentTarget;if(!s)return;const n=Xt(()=>{if(ve.has(s))return;Ve(s,"down");const r=Xt(()=>{Ve(s,"up")}),i=()=>Ve(s,"cancel");s.addEventListener("keyup",r,e),s.addEventListener("blur",i,e)});s.addEventListener("keydown",n,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),e)};function Yt(t){return fi(t)&&!nn()}function Bo(t,e,s={}){const[n,r,i]=rn(t,s),a=o=>{const l=o.currentTarget;if(!Yt(o))return;ve.add(l);const h=e(l,o),c=(p,d)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",u),ve.has(l)&&ve.delete(l),Yt(p)&&typeof h=="function"&&h(p,{success:d})},f=p=>{c(p,l===window||l===document||s.useGlobalTarget||an(l,p.target))},u=p=>{c(p,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",u,r)};return n.forEach(o=>{(s.useGlobalTarget?window:o).addEventListener("pointerdown",a,r),Js(o)&&(o.addEventListener("focus",h=>mi(h,r)),!pi(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function gi(t){return Ts(t)&&"ownerSVGElement"in t}function $o(t){return gi(t)&&t.tagName==="svg"}function Uo(...t){const e=!Array.isArray(t[0]),s=e?0:-1,n=t[0+s],r=t[1+s],i=t[2+s],a=t[3+s],o=Ks(r,i,a);return e?o(n):o}const yi=t=>!!(t&&t.getVelocity);function qo(t,e,s){const n=t.get();let r=null,i=n,a;const o=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,l=()=>{r&&(r.stop(),r=null)},h=()=>{l(),r=new Et({keyframes:[Zt(t.get()),Zt(i)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:a})};t.attach((f,u)=>(i=f,a=p=>u(Gt(p,o)),he.postRender(h),t.get()),l);let c;return yi(e)&&(c=e.on("change",f=>t.set(Gt(f,o))),t.on("destroy",c)),c}function Gt(t,e){return e?t+e:t}function Zt(t){return typeof t=="number"?t:parseFloat(t)}const bi=[...sn,I,pe],Ko=t=>bi.find(tn(t));function xi(t){const e=V.useRef(t);return V.useEffect(()=>{e.current=t},[t]),e}function Wo(t){const e=xi(t);return V.useCallback(function(...s){return e.current&&e.current(...s)},[e])}function jo(t,e){const s=V.useRef(!0);V.useEffect(()=>{if(s.current){s.current=!1;return}return t()},e)}function wi(){const t=V.useRef(!0),e=V.useRef(()=>t.current);return V.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Ti(t){const e=V.useRef(t);return e.current=t,e}function vi(t){const e=Ti(t);V.useEffect(()=>()=>e.current(),[])}const rt=2**31-1;function on(t,e,s){const n=s-Date.now();t.current=n<=rt?setTimeout(e,n):setTimeout(()=>on(t,e,s),rt)}function Xo(){const t=wi(),e=V.useRef();return vi(()=>clearTimeout(e.current)),V.useMemo(()=>{const s=()=>clearTimeout(e.current);function n(r,i=0){t()&&(s(),i<=rt?e.current=setTimeout(r,i):on(e,r,Date.now()+i))}return{set:n,clear:s,handleRef:e}},[])}function Ei(t){const e=V.useRef(t);return V.useEffect(()=>{e.current=t},[t]),e}function Mi(t){const e=Ei(t);return V.useCallback(function(...s){return e.current&&e.current(...s)},[e])}const Ai=["as","disabled"];function Si(t,e){if(t==null)return{};var s={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function _i(t){return!t||t.trim()==="#"}function ln({tagName:t,disabled:e,href:s,target:n,rel:r,role:i,onClick:a,tabIndex:o=0,type:l}){t||(s!=null||n!=null||r!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},h];const c=u=>{if((e||t==="a"&&_i(s))&&u.preventDefault(),e){u.stopPropagation();return}a==null||a(u)},f=u=>{u.key===" "&&(u.preventDefault(),c(u))};return t==="a"&&(s||(s="#"),e&&(s=void 0)),[{role:i??"button",disabled:void 0,tabIndex:e?void 0:o,href:s,target:t==="a"?n:void 0,"aria-disabled":e||void 0,rel:t==="a"?r:void 0,onClick:c,onKeyDown:f},h]}const Fi=V.forwardRef((t,e)=>{let{as:s,disabled:n}=t,r=Si(t,Ai);const[i,{tagName:a}]=ln(Object.assign({tagName:s,disabled:n},r));return je.jsx(a,Object.assign({},r,i,{ref:e}))});Fi.displayName="Button";const Ri=["onKeyDown"];function Oi(t,e){if(t==null)return{};var s={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function Ci(t){return!t||t.trim()==="#"}const Pi=V.forwardRef((t,e)=>{let{onKeyDown:s}=t,n=Oi(t,Ri);const[r]=ln(Object.assign({tagName:"a"},n)),i=Mi(a=>{r.onKeyDown(a),s==null||s(a)});return Ci(n.href)||n.role==="button"?je.jsx("a",Object.assign({ref:e},n,r,{onKeyDown:i})):je.jsx("a",Object.assign({ref:e},n,{onKeyDown:s}))});Pi.displayName="Anchor";var ze={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Ht;function Di(){return Ht||(Ht=1,function(t){(function(){var e={}.hasOwnProperty;function s(){for(var i="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(i=r(i,n(o)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return s.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var o in i)e.call(i,o)&&i[o]&&(a=r(a,o));return a}function r(i,a){return a?i?i+" "+a:i+a:i}t.exports?(s.default=s,t.exports=s):window.classNames=s})()}(ze)),ze.exports}var ki=Di();const Yo=mn(ki);function it(){return it=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)({}).hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},it.apply(null,arguments)}function Li(t,e){if(t==null)return{};var s={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;s[n]=t[n]}return s}function Qt(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Vi(t){var e=zi(t,"string");return typeof e=="symbol"?e:String(e)}function zi(t,e){if(typeof t!="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ii(t,e,s){var n=V.useRef(t!==void 0),r=V.useState(e),i=r[0],a=r[1],o=t!==void 0,l=n.current;return n.current=o,!o&&l&&i!==e&&a(e),[o?t:i,V.useCallback(function(h){for(var c=arguments.length,f=new Array(c>1?c-1:0),u=1;u<c;u++)f[u-1]=arguments[u];s&&s.apply(void 0,[h].concat(f)),a(h)},[s])]}function Go(t,e){return Object.keys(e).reduce(function(s,n){var r,i=s,a=i[Qt(n)],o=i[n],l=Li(i,[Qt(n),n].map(Vi)),h=e[n],c=Ii(o,a,t[h]),f=c[0],u=c[1];return it({},l,(r={},r[n]=f,r[h]=u,r))},t)}function at(t,e){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},at(t,e)}function Zo(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,at(t,e)}function Ni(t){return t&&t.ownerDocument||document}function Bi(t){var e=Ni(t);return e&&e.defaultView||window}function $i(t,e){return Bi(t).getComputedStyle(t,e)}var Ui=/([A-Z])/g;function qi(t){return t.replace(Ui,"-$1").toLowerCase()}var Ki=/^ms-/;function we(t){return qi(t).replace(Ki,"-ms-")}var Wi=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ji(t){return!!(t&&Wi.test(t))}function Xi(t,e){var s="",n="";if(typeof e=="string")return t.style.getPropertyValue(we(e))||$i(t).getPropertyValue(we(e));Object.keys(e).forEach(function(r){var i=e[r];!i&&i!==0?t.style.removeProperty(we(r)):ji(r)?n+=r+"("+i+") ":s+=we(r)+": "+i+";"}),n&&(s+="transform: "+n+";"),t.style.cssText+=";"+s}const Yi=!!(typeof window<"u"&&window.document&&window.document.createElement);var ot=!1,lt=!1;try{var Ie={get passive(){return ot=!0},get once(){return lt=ot=!0}};Yi&&(window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,!0))}catch{}function Gi(t,e,s,n){if(n&&typeof n!="boolean"&&!lt){var r=n.once,i=n.capture,a=s;!lt&&r&&(a=s.__once||function o(l){this.removeEventListener(e,o,i),s.call(this,l)},s.__once=a),t.addEventListener(e,a,ot?n:i)}t.addEventListener(e,s,n)}function Zi(t,e,s,n){var r=n&&typeof n!="boolean"?n.capture:n;t.removeEventListener(e,s,r),s.__once&&t.removeEventListener(e,s.__once,r)}function hn(t,e,s,n){return Gi(t,e,s,n),function(){Zi(t,e,s,n)}}function Hi(t,e,s,n){if(n===void 0&&(n=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,s,n),t.dispatchEvent(r)}}function Qi(t){var e=Xi(t,"transitionDuration")||"",s=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*s}function Ji(t,e,s){s===void 0&&(s=5);var n=!1,r=setTimeout(function(){n||Hi(t,"transitionend",!0)},e+s),i=hn(t,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(r),i()}}function Ho(t,e,s,n){s==null&&(s=Qi(t)||0);var r=Ji(t,s,n),i=hn(t,"transitionend",e);return function(){r(),i()}}var Ne={exports:{}},Be,Jt;function ea(){if(Jt)return Be;Jt=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Be=t,Be}var $e,es;function ta(){if(es)return $e;es=1;var t=ea();function e(){}function s(){}return s.resetWarningCache=e,$e=function(){function n(a,o,l,h,c,f){if(f!==t){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function r(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:s,resetWarningCache:e};return i.PropTypes=i,i},$e}var ts;function sa(){return ts||(ts=1,Ne.exports=ta()()),Ne.exports}var Qo=sa();const ss=t=>!t||typeof t=="function"?t:e=>{t.current=e};function na(t,e){const s=ss(t),n=ss(e);return r=>{s&&s(r),n&&n(r)}}function Jo(t,e){return V.useMemo(()=>na(t,e),[t,e])}function cn(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(s=cn(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function el(){for(var t,e,s=0,n="",r=arguments.length;s<r;s++)(t=arguments[s])&&(e=cn(t))&&(n&&(n+=" "),n+=e);return n}function oe(t){let e=t[0],s=t[1],n=t[2];return Math.sqrt(e*e+s*s+n*n)}function ht(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ra(t,e,s,n){return t[0]=e,t[1]=s,t[2]=n,t}function ns(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t}function rs(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t}function ia(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t[2]=e[2]*s[2],t}function aa(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t[2]=e[2]/s[2],t}function Ue(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function oa(t,e){let s=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(s*s+n*n+r*r)}function la(t,e){let s=e[0]-t[0],n=e[1]-t[1],r=e[2]-t[2];return s*s+n*n+r*r}function is(t){let e=t[0],s=t[1],n=t[2];return e*e+s*s+n*n}function ha(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function ca(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function ct(t,e){let s=e[0],n=e[1],r=e[2],i=s*s+n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function un(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function as(t,e,s){let n=e[0],r=e[1],i=e[2],a=s[0],o=s[1],l=s[2];return t[0]=r*l-i*o,t[1]=i*a-n*l,t[2]=n*o-r*a,t}function ua(t,e,s,n){let r=e[0],i=e[1],a=e[2];return t[0]=r+n*(s[0]-r),t[1]=i+n*(s[1]-i),t[2]=a+n*(s[2]-a),t}function fa(t,e,s,n,r){const i=Math.exp(-n*r);let a=e[0],o=e[1],l=e[2];return t[0]=s[0]+(a-s[0])*i,t[1]=s[1]+(o-s[1])*i,t[2]=s[2]+(l-s[2])*i,t}function da(t,e,s){let n=e[0],r=e[1],i=e[2],a=s[3]*n+s[7]*r+s[11]*i+s[15];return a=a||1,t[0]=(s[0]*n+s[4]*r+s[8]*i+s[12])/a,t[1]=(s[1]*n+s[5]*r+s[9]*i+s[13])/a,t[2]=(s[2]*n+s[6]*r+s[10]*i+s[14])/a,t}function pa(t,e,s){let n=e[0],r=e[1],i=e[2],a=s[3]*n+s[7]*r+s[11]*i+s[15];return a=a||1,t[0]=(s[0]*n+s[4]*r+s[8]*i)/a,t[1]=(s[1]*n+s[5]*r+s[9]*i)/a,t[2]=(s[2]*n+s[6]*r+s[10]*i)/a,t}function ma(t,e,s){let n=e[0],r=e[1],i=e[2];return t[0]=n*s[0]+r*s[3]+i*s[6],t[1]=n*s[1]+r*s[4]+i*s[7],t[2]=n*s[2]+r*s[5]+i*s[8],t}function ga(t,e,s){let n=e[0],r=e[1],i=e[2],a=s[0],o=s[1],l=s[2],h=s[3],c=o*i-l*r,f=l*n-a*i,u=a*r-o*n,p=o*u-l*f,d=l*c-a*u,m=a*f-o*c,y=h*2;return c*=y,f*=y,u*=y,p*=2,d*=2,m*=2,t[0]=n+c+p,t[1]=r+f+d,t[2]=i+u+m,t}const ya=function(){const t=[0,0,0],e=[0,0,0];return function(s,n){ht(t,s),ht(e,n),ct(t,t),ct(e,e);let r=un(t,e);return r>1?0:r<-1?Math.PI:Math.acos(r)}}();function ba(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class U extends Array{constructor(e=0,s=e,n=e){return super(e,s,n),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,s=e,n=e){return e.length?this.copy(e):(ra(this,e,s,n),this)}copy(e){return ht(this,e),this}add(e,s){return s?ns(this,e,s):ns(this,this,e),this}sub(e,s){return s?rs(this,e,s):rs(this,this,e),this}multiply(e){return e.length?ia(this,this,e):Ue(this,this,e),this}divide(e){return e.length?aa(this,this,e):Ue(this,this,1/e),this}inverse(e=this){return ca(this,e),this}len(){return oe(this)}distance(e){return e?oa(this,e):oe(this)}squaredLen(){return is(this)}squaredDistance(e){return e?la(this,e):is(this)}negate(e=this){return ha(this,e),this}cross(e,s){return s?as(this,e,s):as(this,this,e),this}scale(e){return Ue(this,this,e),this}normalize(){return ct(this,this),this}dot(e){return un(this,e)}equals(e){return ba(this,e)}applyMatrix3(e){return ma(this,this,e),this}applyMatrix4(e){return da(this,this,e),this}scaleRotateMatrix4(e){return pa(this,this,e),this}applyQuaternion(e){return ga(this,this,e),this}angle(e){return ya(this,e)}lerp(e,s){return ua(this,this,e,s),this}smoothLerp(e,s,n){return fa(this,this,e,s,n),this}clone(){return new U(this[0],this[1],this[2])}fromArray(e,s=0){return this[0]=e[s],this[1]=e[s+1],this[2]=e[s+2],this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e[s+2]=this[2],e}transformDirection(e){const s=this[0],n=this[1],r=this[2];return this[0]=e[0]*s+e[4]*n+e[8]*r,this[1]=e[1]*s+e[5]*n+e[9]*r,this[2]=e[2]*s+e[6]*n+e[10]*r,this.normalize()}}const os=new U;let xa=1,wa=1,ls=!1;class Ta{constructor(e,s={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=s,this.id=xa++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let n in s)this.addAttribute(n,s[n])}addAttribute(e,s){if(this.attributes[e]=s,s.id=wa++,s.size=s.size||1,s.type=s.type||(s.data.constructor===Float32Array?this.gl.FLOAT:s.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),s.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,s.normalized=s.normalized||!1,s.stride=s.stride||0,s.offset=s.offset||0,s.count=s.count||(s.stride?s.data.byteLength/s.stride:s.data.length/s.size),s.divisor=s.instanced||0,s.needsUpdate=!1,s.usage=s.usage||this.gl.STATIC_DRAW,s.buffer||this.updateAttribute(s),s.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==s.count*s.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,s.count*s.divisor);this.instancedCount=s.count*s.divisor}else e==="index"?this.drawRange.count=s.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,s.count))}updateAttribute(e){const s=!e.buffer;s&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),s?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,s){this.drawRange.start=e,this.drawRange.count=s}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((s,{name:n,type:r})=>{if(!this.attributes[n]){console.warn(`active attribute ${n} not being supplied`);return}const i=this.attributes[n];this.gl.bindBuffer(i.target,i.buffer),this.glState.boundBuffer=i.buffer;let a=1;r===35674&&(a=2),r===35675&&(a=3),r===35676&&(a=4);const o=i.size/a,l=a===1?0:a*a*4,h=a===1?0:a*4;for(let c=0;c<a;c++)this.gl.vertexAttribPointer(s+c,o,i.type,i.normalized,i.stride+l,i.offset+c*h),this.gl.enableVertexAttribArray(s+c),this.gl.renderer.vertexAttribDivisor(s+c,i.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:s=this.gl.TRIANGLES}){var r;this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((i,{name:a})=>{const o=this.attributes[a];o.needsUpdate&&this.updateAttribute(o)});let n=2;((r=this.attributes.index)==null?void 0:r.type)===this.gl.UNSIGNED_INT&&(n=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(s,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n,this.instancedCount):this.gl.renderer.drawArraysInstanced(s,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(s,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*n):this.gl.drawArrays(s,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!ls)return console.warn("No position buffer data found to compute bounds"),ls=!0}computeBoundingBox(e){e||(e=this.getPosition());const s=e.data,n=e.size;this.bounds||(this.bounds={min:new U,max:new U,center:new U,scale:new U,radius:1/0});const r=this.bounds.min,i=this.bounds.max,a=this.bounds.center,o=this.bounds.scale;r.set(1/0),i.set(-1/0);for(let l=0,h=s.length;l<h;l+=n){const c=s[l],f=s[l+1],u=s[l+2];r.x=Math.min(c,r.x),r.y=Math.min(f,r.y),r.z=Math.min(u,r.z),i.x=Math.max(c,i.x),i.y=Math.max(f,i.y),i.z=Math.max(u,i.z)}o.sub(i,r),a.add(r,i).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const s=e.data,n=e.size;this.bounds||this.computeBoundingBox(e);let r=0;for(let i=0,a=s.length;i<a;i+=n)os.fromArray(s,i),r=Math.max(r,this.bounds.center.squaredDistance(os));this.bounds.radius=Math.sqrt(r)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let va=1;const hs={};class tl{constructor(e,{vertex:s,fragment:n,uniforms:r={},transparent:i=!1,cullFace:a=e.BACK,frontFace:o=e.CCW,depthTest:l=!0,depthWrite:h=!0,depthFunc:c=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=r,this.id=va++,s||console.warn("vertex shader not supplied"),n||console.warn("fragment shader not supplied"),this.transparent=i,this.cullFace=a,this.frontFace=o,this.depthTest=l,this.depthWrite=h,this.depthFunc=c,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:s,fragment:n})}setShaders({vertex:e,fragment:s}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${cs(e)}`)),s&&(this.gl.shaderSource(this.fragmentShader,s),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${cs(s)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let a=0;a<n;a++){let o=this.gl.getActiveUniform(this.program,a);this.uniformLocations.set(o,this.gl.getUniformLocation(this.program,o.name));const l=o.name.match(/(\w+)/g);o.uniformName=l[0],o.nameComponents=l.slice(1)}this.attributeLocations=new Map;const r=[],i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let a=0;a<i;a++){const o=this.gl.getActiveAttrib(this.program,a),l=this.gl.getAttribLocation(this.program,o.name);l!==-1&&(r[l]=o.name,this.attributeLocations.set(o,l))}this.attributeOrder=r.join("")}setBlendFunc(e,s,n,r){this.blendFunc.src=e,this.blendFunc.dst=s,this.blendFunc.srcAlpha=n,this.blendFunc.dstAlpha=r,e&&(this.transparent=!0)}setBlendEquation(e,s){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=s}setStencilFunc(e,s,n){this.stencilRef=s,this.stencilFunc.func=e,this.stencilFunc.ref=s,this.stencilFunc.mask=n}setStencilOp(e,s,n){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=s,this.stencilOp.depthPass=n}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let s=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((r,i)=>{let a=this.uniforms[i.uniformName];for(const o of i.nameComponents){if(!a)break;if(o in a)a=a[o];else{if(Array.isArray(a.value))break;a=void 0;break}}if(!a)return us(`Active uniform ${i.name} has not been supplied`);if(a&&a.value===void 0)return us(`${i.name} uniform is missing a value parameter`);if(a.value.texture)return s=s+1,a.value.update(s),qe(this.gl,i.type,r,s);if(a.value.length&&a.value[0].texture){const o=[];return a.value.forEach(l=>{s=s+1,l.update(s),o.push(s)}),qe(this.gl,i.type,r,o)}qe(this.gl,i.type,r,a.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function qe(t,e,s,n){n=n.length?Ea(n):n;const r=t.renderer.state.uniformLocations.get(s);if(n.length)if(r===void 0||r.length!==n.length)t.renderer.state.uniformLocations.set(s,n.slice(0));else{if(Ma(r,n))return;r.set?r.set(n):Aa(r,n),t.renderer.state.uniformLocations.set(s,r)}else{if(r===n)return;t.renderer.state.uniformLocations.set(s,n)}switch(e){case 5126:return n.length?t.uniform1fv(s,n):t.uniform1f(s,n);case 35664:return t.uniform2fv(s,n);case 35665:return t.uniform3fv(s,n);case 35666:return t.uniform4fv(s,n);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return n.length?t.uniform1iv(s,n):t.uniform1i(s,n);case 35671:case 35667:return t.uniform2iv(s,n);case 35672:case 35668:return t.uniform3iv(s,n);case 35673:case 35669:return t.uniform4iv(s,n);case 35674:return t.uniformMatrix2fv(s,!1,n);case 35675:return t.uniformMatrix3fv(s,!1,n);case 35676:return t.uniformMatrix4fv(s,!1,n)}}function cs(t){let e=t.split(`
`);for(let s=0;s<e.length;s++)e[s]=s+1+": "+e[s];return e.join(`
`)}function Ea(t){const e=t.length,s=t[0].length;if(s===void 0)return t;const n=e*s;let r=hs[n];r||(hs[n]=r=new Float32Array(n));for(let i=0;i<e;i++)r.set(t[i],i*s);return r}function Ma(t,e){if(t.length!==e.length)return!1;for(let s=0,n=t.length;s<n;s++)if(t[s]!==e[s])return!1;return!0}function Aa(t,e){for(let s=0,n=t.length;s<n;s++)t[s]=e[s]}let Ke=0;function us(t){Ke>100||(console.warn(t),Ke++,Ke>100&&console.warn("More than 100 program warnings - stopping logs."))}const We=new U;let Sa=1;class sl{constructor({canvas:e=document.createElement("canvas"),width:s=300,height:n=150,dpr:r=1,alpha:i=!1,depth:a=!0,stencil:o=!1,antialias:l=!1,premultipliedAlpha:h=!1,preserveDrawingBuffer:c=!1,powerPreference:f="default",autoClear:u=!0,webgl:p=2}={}){const d={alpha:i,depth:a,stencil:o,antialias:l,premultipliedAlpha:h,preserveDrawingBuffer:c,powerPreference:f};this.dpr=r,this.alpha=i,this.color=!0,this.depth=a,this.stencil=o,this.premultipliedAlpha=h,this.autoClear=u,this.id=Sa++,p===2&&(this.gl=e.getContext("webgl2",d)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",d)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(s,n),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,s){this.width=e,this.height=s,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=s*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:s+"px"})}setViewport(e,s,n=0,r=0){this.state.viewport.width===e&&this.state.viewport.height===s||(this.state.viewport.width=e,this.state.viewport.height=s,this.state.viewport.x=n,this.state.viewport.y=r,this.gl.viewport(n,r,e,s))}setScissor(e,s,n=0,r=0){this.gl.scissor(n,r,e,s)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,s,n,r){this.state.blendFunc.src===e&&this.state.blendFunc.dst===s&&this.state.blendFunc.srcAlpha===n&&this.state.blendFunc.dstAlpha===r||(this.state.blendFunc.src=e,this.state.blendFunc.dst=s,this.state.blendFunc.srcAlpha=n,this.state.blendFunc.dstAlpha=r,n!==void 0?this.gl.blendFuncSeparate(e,s,n,r):this.gl.blendFunc(e,s))}setBlendEquation(e,s){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===s)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=s,s!==void 0?this.gl.blendEquationSeparate(e,s):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,s,n){this.state.stencilFunc===e&&this.state.stencilRef===s&&this.state.stencilFuncMask===n||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=s||0,this.state.stencilFuncMask=n||0,this.gl.stencilFunc(e||this.gl.ALWAYS,s||0,n||0))}setStencilOp(e,s,n){this.state.stencilFail===e&&this.state.stencilDepthFail===s&&this.state.stencilDepthPass===n||(this.state.stencilFail=e,this.state.stencilDepthFail=s,this.state.stencilDepthPass=n,this.gl.stencilOp(e,s,n))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:s=null}={}){this.state.framebuffer!==s&&(this.state.framebuffer=s,this.gl.bindFramebuffer(e,s))}getExtension(e,s,n){return s&&this.gl[s]?this.gl[s].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),s?this.extensions[e]?this.extensions[e][n].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,s){return e.renderOrder!==s.renderOrder?e.renderOrder-s.renderOrder:e.program.id!==s.program.id?e.program.id-s.program.id:e.zDepth!==s.zDepth?e.zDepth-s.zDepth:s.id-e.id}sortTransparent(e,s){return e.renderOrder!==s.renderOrder?e.renderOrder-s.renderOrder:e.zDepth!==s.zDepth?s.zDepth-e.zDepth:s.id-e.id}sortUI(e,s){return e.renderOrder!==s.renderOrder?e.renderOrder-s.renderOrder:e.program.id!==s.program.id?e.program.id-s.program.id:s.id-e.id}getRenderList({scene:e,camera:s,frustumCull:n,sort:r}){let i=[];if(s&&n&&s.updateFrustum(),e.traverse(a=>{if(!a.visible)return!0;a.draw&&(n&&a.frustumCulled&&s&&!s.frustumIntersectsMesh(a)||i.push(a))}),r){const a=[],o=[],l=[];i.forEach(h=>{h.program.transparent?h.program.depthTest?o.push(h):l.push(h):a.push(h),h.zDepth=0,!(h.renderOrder!==0||!h.program.depthTest||!s)&&(h.worldMatrix.getTranslation(We),We.applyMatrix4(s.projectionViewMatrix),h.zDepth=We.z)}),a.sort(this.sortOpaque),o.sort(this.sortTransparent),l.sort(this.sortUI),i=a.concat(o,l)}return i}render({scene:e,camera:s,target:n=null,update:r=!0,sort:i=!0,frustumCull:a=!0,clear:o}){n===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(n),this.setViewport(n.width,n.height)),(o||this.autoClear&&o!==!1)&&(this.depth&&(!n||n.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!n||n.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),r&&e.updateMatrixWorld(),s&&s.updateMatrixWorld(),this.getRenderList({scene:e,camera:s,frustumCull:a,sort:i}).forEach(h=>{h.draw({camera:s})})}}function _a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Fa(t,e,s,n,r){return t[0]=e,t[1]=s,t[2]=n,t[3]=r,t}function Ra(t,e){let s=e[0],n=e[1],r=e[2],i=e[3],a=s*s+n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=s*a,t[1]=n*a,t[2]=r*a,t[3]=i*a,t}function Oa(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ca(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Pa(t,e,s){s=s*.5;let n=Math.sin(s);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(s),t}function fs(t,e,s){let n=e[0],r=e[1],i=e[2],a=e[3],o=s[0],l=s[1],h=s[2],c=s[3];return t[0]=n*c+a*o+r*h-i*l,t[1]=r*c+a*l+i*o-n*h,t[2]=i*c+a*h+n*l-r*o,t[3]=a*c-n*o-r*l-i*h,t}function Da(t,e,s){s*=.5;let n=e[0],r=e[1],i=e[2],a=e[3],o=Math.sin(s),l=Math.cos(s);return t[0]=n*l+a*o,t[1]=r*l+i*o,t[2]=i*l-r*o,t[3]=a*l-n*o,t}function ka(t,e,s){s*=.5;let n=e[0],r=e[1],i=e[2],a=e[3],o=Math.sin(s),l=Math.cos(s);return t[0]=n*l-i*o,t[1]=r*l+a*o,t[2]=i*l+n*o,t[3]=a*l-r*o,t}function La(t,e,s){s*=.5;let n=e[0],r=e[1],i=e[2],a=e[3],o=Math.sin(s),l=Math.cos(s);return t[0]=n*l+r*o,t[1]=r*l-n*o,t[2]=i*l+a*o,t[3]=a*l-i*o,t}function Va(t,e,s,n){let r=e[0],i=e[1],a=e[2],o=e[3],l=s[0],h=s[1],c=s[2],f=s[3],u,p,d,m,y;return p=r*l+i*h+a*c+o*f,p<0&&(p=-p,l=-l,h=-h,c=-c,f=-f),1-p>1e-6?(u=Math.acos(p),d=Math.sin(u),m=Math.sin((1-n)*u)/d,y=Math.sin(n*u)/d):(m=1-n,y=n),t[0]=m*r+y*l,t[1]=m*i+y*h,t[2]=m*a+y*c,t[3]=m*o+y*f,t}function za(t,e){let s=e[0],n=e[1],r=e[2],i=e[3],a=s*s+n*n+r*r+i*i,o=a?1/a:0;return t[0]=-s*o,t[1]=-n*o,t[2]=-r*o,t[3]=i*o,t}function Ia(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Na(t,e){let s=e[0]+e[4]+e[8],n;if(s>0)n=Math.sqrt(s+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[r*3+r]&&(r=2);let i=(r+1)%3,a=(r+2)%3;n=Math.sqrt(e[r*3+r]-e[i*3+i]-e[a*3+a]+1),t[r]=.5*n,n=.5/n,t[3]=(e[i*3+a]-e[a*3+i])*n,t[i]=(e[i*3+r]+e[r*3+i])*n,t[a]=(e[a*3+r]+e[r*3+a])*n}return t}function Ba(t,e,s="YXZ"){let n=Math.sin(e[0]*.5),r=Math.cos(e[0]*.5),i=Math.sin(e[1]*.5),a=Math.cos(e[1]*.5),o=Math.sin(e[2]*.5),l=Math.cos(e[2]*.5);return s==="XYZ"?(t[0]=n*a*l+r*i*o,t[1]=r*i*l-n*a*o,t[2]=r*a*o+n*i*l,t[3]=r*a*l-n*i*o):s==="YXZ"?(t[0]=n*a*l+r*i*o,t[1]=r*i*l-n*a*o,t[2]=r*a*o-n*i*l,t[3]=r*a*l+n*i*o):s==="ZXY"?(t[0]=n*a*l-r*i*o,t[1]=r*i*l+n*a*o,t[2]=r*a*o+n*i*l,t[3]=r*a*l-n*i*o):s==="ZYX"?(t[0]=n*a*l-r*i*o,t[1]=r*i*l+n*a*o,t[2]=r*a*o-n*i*l,t[3]=r*a*l+n*i*o):s==="YZX"?(t[0]=n*a*l+r*i*o,t[1]=r*i*l+n*a*o,t[2]=r*a*o-n*i*l,t[3]=r*a*l-n*i*o):s==="XZY"&&(t[0]=n*a*l-r*i*o,t[1]=r*i*l-n*a*o,t[2]=r*a*o+n*i*l,t[3]=r*a*l+n*i*o),t}const $a=_a,Ua=Fa,qa=Oa,Ka=Ra;class Wa extends Array{constructor(e=0,s=0,n=0,r=1){super(e,s,n,r),this.onChange=()=>{},this._target=this;const i=["0","1","2","3"];return new Proxy(this,{set(a,o){const l=Reflect.set(...arguments);return l&&i.includes(o)&&a.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return Ca(this._target),this.onChange(),this}set(e,s,n,r){return e.length?this.copy(e):(Ua(this._target,e,s,n,r),this.onChange(),this)}rotateX(e){return Da(this._target,this._target,e),this.onChange(),this}rotateY(e){return ka(this._target,this._target,e),this.onChange(),this}rotateZ(e){return La(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return za(this._target,e),this.onChange(),this}conjugate(e=this._target){return Ia(this._target,e),this.onChange(),this}copy(e){return $a(this._target,e),this.onChange(),this}normalize(e=this._target){return Ka(this._target,e),this.onChange(),this}multiply(e,s){return s?fs(this._target,e,s):fs(this._target,this._target,e),this.onChange(),this}dot(e){return qa(this._target,e)}fromMatrix3(e){return Na(this._target,e),this.onChange(),this}fromEuler(e,s){return Ba(this._target,e,e.order),s||this.onChange(),this}fromAxisAngle(e,s){return Pa(this._target,e,s),this.onChange(),this}slerp(e,s){return Va(this._target,this._target,e,s),this.onChange(),this}fromArray(e,s=0){return this._target[0]=e[s],this._target[1]=e[s+1],this._target[2]=e[s+2],this._target[3]=e[s+3],this.onChange(),this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e[s+2]=this[2],e[s+3]=this[3],e}}const ja=1e-6;function Xa(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ya(t,e,s,n,r,i,a,o,l,h,c,f,u,p,d,m,y){return t[0]=e,t[1]=s,t[2]=n,t[3]=r,t[4]=i,t[5]=a,t[6]=o,t[7]=l,t[8]=h,t[9]=c,t[10]=f,t[11]=u,t[12]=p,t[13]=d,t[14]=m,t[15]=y,t}function Ga(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Za(t,e){let s=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],l=e[6],h=e[7],c=e[8],f=e[9],u=e[10],p=e[11],d=e[12],m=e[13],y=e[14],g=e[15],M=s*o-n*a,w=s*l-r*a,x=s*h-i*a,b=n*l-r*o,T=n*h-i*o,A=r*h-i*l,E=c*m-f*d,O=c*y-u*d,C=c*g-p*d,D=f*y-u*m,P=f*g-p*m,z=u*g-p*y,_=M*z-w*P+x*D+b*C-T*O+A*E;return _?(_=1/_,t[0]=(o*z-l*P+h*D)*_,t[1]=(r*P-n*z-i*D)*_,t[2]=(m*A-y*T+g*b)*_,t[3]=(u*T-f*A-p*b)*_,t[4]=(l*C-a*z-h*O)*_,t[5]=(s*z-r*C+i*O)*_,t[6]=(y*x-d*A-g*w)*_,t[7]=(c*A-u*x+p*w)*_,t[8]=(a*P-o*C+h*E)*_,t[9]=(n*C-s*P-i*E)*_,t[10]=(d*T-m*x+g*M)*_,t[11]=(f*x-c*T-p*M)*_,t[12]=(o*O-a*D-l*E)*_,t[13]=(s*D-n*O+r*E)*_,t[14]=(m*w-d*b-y*M)*_,t[15]=(c*b-f*w+u*M)*_,t):null}function fn(t){let e=t[0],s=t[1],n=t[2],r=t[3],i=t[4],a=t[5],o=t[6],l=t[7],h=t[8],c=t[9],f=t[10],u=t[11],p=t[12],d=t[13],m=t[14],y=t[15],g=e*a-s*i,M=e*o-n*i,w=e*l-r*i,x=s*o-n*a,b=s*l-r*a,T=n*l-r*o,A=h*d-c*p,E=h*m-f*p,O=h*y-u*p,C=c*m-f*d,D=c*y-u*d,P=f*y-u*m;return g*P-M*D+w*C+x*O-b*E+T*A}function ds(t,e,s){let n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],l=e[5],h=e[6],c=e[7],f=e[8],u=e[9],p=e[10],d=e[11],m=e[12],y=e[13],g=e[14],M=e[15],w=s[0],x=s[1],b=s[2],T=s[3];return t[0]=w*n+x*o+b*f+T*m,t[1]=w*r+x*l+b*u+T*y,t[2]=w*i+x*h+b*p+T*g,t[3]=w*a+x*c+b*d+T*M,w=s[4],x=s[5],b=s[6],T=s[7],t[4]=w*n+x*o+b*f+T*m,t[5]=w*r+x*l+b*u+T*y,t[6]=w*i+x*h+b*p+T*g,t[7]=w*a+x*c+b*d+T*M,w=s[8],x=s[9],b=s[10],T=s[11],t[8]=w*n+x*o+b*f+T*m,t[9]=w*r+x*l+b*u+T*y,t[10]=w*i+x*h+b*p+T*g,t[11]=w*a+x*c+b*d+T*M,w=s[12],x=s[13],b=s[14],T=s[15],t[12]=w*n+x*o+b*f+T*m,t[13]=w*r+x*l+b*u+T*y,t[14]=w*i+x*h+b*p+T*g,t[15]=w*a+x*c+b*d+T*M,t}function Ha(t,e,s){let n=s[0],r=s[1],i=s[2],a,o,l,h,c,f,u,p,d,m,y,g;return e===t?(t[12]=e[0]*n+e[4]*r+e[8]*i+e[12],t[13]=e[1]*n+e[5]*r+e[9]*i+e[13],t[14]=e[2]*n+e[6]*r+e[10]*i+e[14],t[15]=e[3]*n+e[7]*r+e[11]*i+e[15]):(a=e[0],o=e[1],l=e[2],h=e[3],c=e[4],f=e[5],u=e[6],p=e[7],d=e[8],m=e[9],y=e[10],g=e[11],t[0]=a,t[1]=o,t[2]=l,t[3]=h,t[4]=c,t[5]=f,t[6]=u,t[7]=p,t[8]=d,t[9]=m,t[10]=y,t[11]=g,t[12]=a*n+c*r+d*i+e[12],t[13]=o*n+f*r+m*i+e[13],t[14]=l*n+u*r+y*i+e[14],t[15]=h*n+p*r+g*i+e[15]),t}function Qa(t,e,s){let n=s[0],r=s[1],i=s[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ja(t,e,s,n){let r=n[0],i=n[1],a=n[2],o=Math.hypot(r,i,a),l,h,c,f,u,p,d,m,y,g,M,w,x,b,T,A,E,O,C,D,P,z,_,q;return Math.abs(o)<ja?null:(o=1/o,r*=o,i*=o,a*=o,l=Math.sin(s),h=Math.cos(s),c=1-h,f=e[0],u=e[1],p=e[2],d=e[3],m=e[4],y=e[5],g=e[6],M=e[7],w=e[8],x=e[9],b=e[10],T=e[11],A=r*r*c+h,E=i*r*c+a*l,O=a*r*c-i*l,C=r*i*c-a*l,D=i*i*c+h,P=a*i*c+r*l,z=r*a*c+i*l,_=i*a*c-r*l,q=a*a*c+h,t[0]=f*A+m*E+w*O,t[1]=u*A+y*E+x*O,t[2]=p*A+g*E+b*O,t[3]=d*A+M*E+T*O,t[4]=f*C+m*D+w*P,t[5]=u*C+y*D+x*P,t[6]=p*C+g*D+b*P,t[7]=d*C+M*D+T*P,t[8]=f*z+m*_+w*q,t[9]=u*z+y*_+x*q,t[10]=p*z+g*_+b*q,t[11]=d*z+M*_+T*q,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function eo(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function dn(t,e){let s=e[0],n=e[1],r=e[2],i=e[4],a=e[5],o=e[6],l=e[8],h=e[9],c=e[10];return t[0]=Math.hypot(s,n,r),t[1]=Math.hypot(i,a,o),t[2]=Math.hypot(l,h,c),t}function to(t){let e=t[0],s=t[1],n=t[2],r=t[4],i=t[5],a=t[6],o=t[8],l=t[9],h=t[10];const c=e*e+s*s+n*n,f=r*r+i*i+a*a,u=o*o+l*l+h*h;return Math.sqrt(Math.max(c,f,u))}const pn=function(){const t=[1,1,1];return function(e,s){let n=t;dn(n,s);let r=1/n[0],i=1/n[1],a=1/n[2],o=s[0]*r,l=s[1]*i,h=s[2]*a,c=s[4]*r,f=s[5]*i,u=s[6]*a,p=s[8]*r,d=s[9]*i,m=s[10]*a,y=o+f+m,g=0;return y>0?(g=Math.sqrt(y+1)*2,e[3]=.25*g,e[0]=(u-d)/g,e[1]=(p-h)/g,e[2]=(l-c)/g):o>f&&o>m?(g=Math.sqrt(1+o-f-m)*2,e[3]=(u-d)/g,e[0]=.25*g,e[1]=(l+c)/g,e[2]=(p+h)/g):f>m?(g=Math.sqrt(1+f-o-m)*2,e[3]=(p-h)/g,e[0]=(l+c)/g,e[1]=.25*g,e[2]=(u+d)/g):(g=Math.sqrt(1+m-o-f)*2,e[3]=(l-c)/g,e[0]=(p+h)/g,e[1]=(u+d)/g,e[2]=.25*g),e}}();function so(t,e,s,n){let r=oe([t[0],t[1],t[2]]);const i=oe([t[4],t[5],t[6]]),a=oe([t[8],t[9],t[10]]);fn(t)<0&&(r=-r),s[0]=t[12],s[1]=t[13],s[2]=t[14];const l=t.slice(),h=1/r,c=1/i,f=1/a;l[0]*=h,l[1]*=h,l[2]*=h,l[4]*=c,l[5]*=c,l[6]*=c,l[8]*=f,l[9]*=f,l[10]*=f,pn(e,l),n[0]=r,n[1]=i,n[2]=a}function no(t,e,s,n){const r=t,i=e[0],a=e[1],o=e[2],l=e[3],h=i+i,c=a+a,f=o+o,u=i*h,p=i*c,d=i*f,m=a*c,y=a*f,g=o*f,M=l*h,w=l*c,x=l*f,b=n[0],T=n[1],A=n[2];return r[0]=(1-(m+g))*b,r[1]=(p+x)*b,r[2]=(d-w)*b,r[3]=0,r[4]=(p-x)*T,r[5]=(1-(u+g))*T,r[6]=(y+M)*T,r[7]=0,r[8]=(d+w)*A,r[9]=(y-M)*A,r[10]=(1-(u+m))*A,r[11]=0,r[12]=s[0],r[13]=s[1],r[14]=s[2],r[15]=1,r}function ro(t,e){let s=e[0],n=e[1],r=e[2],i=e[3],a=s+s,o=n+n,l=r+r,h=s*a,c=n*a,f=n*o,u=r*a,p=r*o,d=r*l,m=i*a,y=i*o,g=i*l;return t[0]=1-f-d,t[1]=c+g,t[2]=u-y,t[3]=0,t[4]=c-g,t[5]=1-h-d,t[6]=p+m,t[7]=0,t[8]=u+y,t[9]=p-m,t[10]=1-h-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function io(t,e,s,n,r){let i=1/Math.tan(e/2),a=1/(n-r);return t[0]=i/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*n*a,t[15]=0,t}function ao(t,e,s,n,r,i,a){let o=1/(e-s),l=1/(n-r),h=1/(i-a);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+s)*o,t[13]=(r+n)*l,t[14]=(a+i)*h,t[15]=1,t}function oo(t,e,s,n){let r=e[0],i=e[1],a=e[2],o=n[0],l=n[1],h=n[2],c=r-s[0],f=i-s[1],u=a-s[2],p=c*c+f*f+u*u;p===0?u=1:(p=1/Math.sqrt(p),c*=p,f*=p,u*=p);let d=l*u-h*f,m=h*c-o*u,y=o*f-l*c;return p=d*d+m*m+y*y,p===0&&(h?o+=1e-6:l?h+=1e-6:l+=1e-6,d=l*u-h*f,m=h*c-o*u,y=o*f-l*c,p=d*d+m*m+y*y),p=1/Math.sqrt(p),d*=p,m*=p,y*=p,t[0]=d,t[1]=m,t[2]=y,t[3]=0,t[4]=f*y-u*m,t[5]=u*d-c*y,t[6]=c*m-f*d,t[7]=0,t[8]=c,t[9]=f,t[10]=u,t[11]=0,t[12]=r,t[13]=i,t[14]=a,t[15]=1,t}function ps(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t[4]=e[4]+s[4],t[5]=e[5]+s[5],t[6]=e[6]+s[6],t[7]=e[7]+s[7],t[8]=e[8]+s[8],t[9]=e[9]+s[9],t[10]=e[10]+s[10],t[11]=e[11]+s[11],t[12]=e[12]+s[12],t[13]=e[13]+s[13],t[14]=e[14]+s[14],t[15]=e[15]+s[15],t}function ms(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t[4]=e[4]-s[4],t[5]=e[5]-s[5],t[6]=e[6]-s[6],t[7]=e[7]-s[7],t[8]=e[8]-s[8],t[9]=e[9]-s[9],t[10]=e[10]-s[10],t[11]=e[11]-s[11],t[12]=e[12]-s[12],t[13]=e[13]-s[13],t[14]=e[14]-s[14],t[15]=e[15]-s[15],t}function lo(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12]*s,t[13]=e[13]*s,t[14]=e[14]*s,t[15]=e[15]*s,t}class _e extends Array{constructor(e=1,s=0,n=0,r=0,i=0,a=1,o=0,l=0,h=0,c=0,f=1,u=0,p=0,d=0,m=0,y=1){return super(e,s,n,r,i,a,o,l,h,c,f,u,p,d,m,y),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,s,n,r,i,a,o,l,h,c,f,u,p,d,m,y){return e.length?this.copy(e):(Ya(this,e,s,n,r,i,a,o,l,h,c,f,u,p,d,m,y),this)}translate(e,s=this){return Ha(this,s,e),this}rotate(e,s,n=this){return Ja(this,n,e,s),this}scale(e,s=this){return Qa(this,s,typeof e=="number"?[e,e,e]:e),this}add(e,s){return s?ps(this,e,s):ps(this,this,e),this}sub(e,s){return s?ms(this,e,s):ms(this,this,e),this}multiply(e,s){return e.length?s?ds(this,e,s):ds(this,this,e):lo(this,this,e),this}identity(){return Ga(this),this}copy(e){return Xa(this,e),this}fromPerspective({fov:e,aspect:s,near:n,far:r}={}){return io(this,e,s,n,r),this}fromOrthogonal({left:e,right:s,bottom:n,top:r,near:i,far:a}){return ao(this,e,s,n,r,i,a),this}fromQuaternion(e){return ro(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return Za(this,e),this}compose(e,s,n){return no(this,e,s,n),this}decompose(e,s,n){return so(this,e,s,n),this}getRotation(e){return pn(e,this),this}getTranslation(e){return eo(e,this),this}getScaling(e){return dn(e,this),this}getMaxScaleOnAxis(){return to(this)}lookAt(e,s,n){return oo(this,e,s,n),this}determinant(){return fn(this)}fromArray(e,s=0){return this[0]=e[s],this[1]=e[s+1],this[2]=e[s+2],this[3]=e[s+3],this[4]=e[s+4],this[5]=e[s+5],this[6]=e[s+6],this[7]=e[s+7],this[8]=e[s+8],this[9]=e[s+9],this[10]=e[s+10],this[11]=e[s+11],this[12]=e[s+12],this[13]=e[s+13],this[14]=e[s+14],this[15]=e[s+15],this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e[s+2]=this[2],e[s+3]=this[3],e[s+4]=this[4],e[s+5]=this[5],e[s+6]=this[6],e[s+7]=this[7],e[s+8]=this[8],e[s+9]=this[9],e[s+10]=this[10],e[s+11]=this[11],e[s+12]=this[12],e[s+13]=this[13],e[s+14]=this[14],e[s+15]=this[15],e}}function ho(t,e,s="YXZ"){return s==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):s==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):s==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):s==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):s==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):s==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const gs=new _e;class co extends Array{constructor(e=0,s=e,n=e,r="YXZ"){super(e,s,n),this.order=r,this.onChange=()=>{},this._target=this;const i=["0","1","2"];return new Proxy(this,{set(a,o){const l=Reflect.set(...arguments);return l&&i.includes(o)&&a.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,s=e,n=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=s,this._target[2]=n,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,s=this.order){return ho(this._target,e,s),this.onChange(),this}fromQuaternion(e,s=this.order,n){return gs.fromQuaternion(e),this._target.fromRotationMatrix(gs,s),n||this.onChange(),this}fromArray(e,s=0){return this._target[0]=e[s],this._target[1]=e[s+1],this._target[2]=e[s+2],this}toArray(e=[],s=0){return e[s]=this[0],e[s+1]=this[1],e[s+2]=this[2],e}}class uo{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new _e,this.worldMatrix=new _e,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new U,this.quaternion=new Wa,this.scale=new U(1),this.rotation=new co,this.up=new U(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,s=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,s&&e&&e.addChild(this,!1)}addChild(e,s=!0){~this.children.indexOf(e)||this.children.push(e),s&&e.setParent(this,!1)}removeChild(e,s=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),s&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let s=0,n=this.children.length;s<n;s++)this.children[s].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let s=0,n=this.children.length;s<n;s++)this.children[s].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,s=!1){s?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function fo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function po(t,e){let s=e[0],n=e[1],r=e[2],i=e[3],a=s+s,o=n+n,l=r+r,h=s*a,c=n*a,f=n*o,u=r*a,p=r*o,d=r*l,m=i*a,y=i*o,g=i*l;return t[0]=1-f-d,t[3]=c-g,t[6]=u+y,t[1]=c+g,t[4]=1-h-d,t[7]=p-m,t[2]=u-y,t[5]=p+m,t[8]=1-h-f,t}function mo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function go(t,e,s,n,r,i,a,o,l,h){return t[0]=e,t[1]=s,t[2]=n,t[3]=r,t[4]=i,t[5]=a,t[6]=o,t[7]=l,t[8]=h,t}function yo(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function bo(t,e){let s=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],l=e[6],h=e[7],c=e[8],f=c*a-o*h,u=-c*i+o*l,p=h*i-a*l,d=s*f+n*u+r*p;return d?(d=1/d,t[0]=f*d,t[1]=(-c*n+r*h)*d,t[2]=(o*n-r*a)*d,t[3]=u*d,t[4]=(c*s-r*l)*d,t[5]=(-o*s+r*i)*d,t[6]=p*d,t[7]=(-h*s+n*l)*d,t[8]=(a*s-n*i)*d,t):null}function ys(t,e,s){let n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],l=e[5],h=e[6],c=e[7],f=e[8],u=s[0],p=s[1],d=s[2],m=s[3],y=s[4],g=s[5],M=s[6],w=s[7],x=s[8];return t[0]=u*n+p*a+d*h,t[1]=u*r+p*o+d*c,t[2]=u*i+p*l+d*f,t[3]=m*n+y*a+g*h,t[4]=m*r+y*o+g*c,t[5]=m*i+y*l+g*f,t[6]=M*n+w*a+x*h,t[7]=M*r+w*o+x*c,t[8]=M*i+w*l+x*f,t}function xo(t,e,s){let n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],l=e[5],h=e[6],c=e[7],f=e[8],u=s[0],p=s[1];return t[0]=n,t[1]=r,t[2]=i,t[3]=a,t[4]=o,t[5]=l,t[6]=u*n+p*a+h,t[7]=u*r+p*o+c,t[8]=u*i+p*l+f,t}function wo(t,e,s){let n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],l=e[5],h=e[6],c=e[7],f=e[8],u=Math.sin(s),p=Math.cos(s);return t[0]=p*n+u*a,t[1]=p*r+u*o,t[2]=p*i+u*l,t[3]=p*a-u*n,t[4]=p*o-u*r,t[5]=p*l-u*i,t[6]=h,t[7]=c,t[8]=f,t}function To(t,e,s){let n=s[0],r=s[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function vo(t,e){let s=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],l=e[6],h=e[7],c=e[8],f=e[9],u=e[10],p=e[11],d=e[12],m=e[13],y=e[14],g=e[15],M=s*o-n*a,w=s*l-r*a,x=s*h-i*a,b=n*l-r*o,T=n*h-i*o,A=r*h-i*l,E=c*m-f*d,O=c*y-u*d,C=c*g-p*d,D=f*y-u*m,P=f*g-p*m,z=u*g-p*y,_=M*z-w*P+x*D+b*C-T*O+A*E;return _?(_=1/_,t[0]=(o*z-l*P+h*D)*_,t[1]=(l*C-a*z-h*O)*_,t[2]=(a*P-o*C+h*E)*_,t[3]=(r*P-n*z-i*D)*_,t[4]=(s*z-r*C+i*O)*_,t[5]=(n*C-s*P-i*E)*_,t[6]=(m*A-y*T+g*b)*_,t[7]=(y*x-d*A-g*w)*_,t[8]=(d*T-m*x+g*M)*_,t):null}class Eo extends Array{constructor(e=1,s=0,n=0,r=0,i=1,a=0,o=0,l=0,h=1){return super(e,s,n,r,i,a,o,l,h),this}set(e,s,n,r,i,a,o,l,h){return e.length?this.copy(e):(go(this,e,s,n,r,i,a,o,l,h),this)}translate(e,s=this){return xo(this,s,e),this}rotate(e,s=this){return wo(this,s,e),this}scale(e,s=this){return To(this,s,e),this}multiply(e,s){return s?ys(this,e,s):ys(this,this,e),this}identity(){return yo(this),this}copy(e){return mo(this,e),this}fromMatrix4(e){return fo(this,e),this}fromQuaternion(e){return po(this,e),this}fromBasis(e,s,n){return this.set(e[0],e[1],e[2],s[0],s[1],s[2],n[0],n[1],n[2]),this}inverse(e=this){return bo(this,e),this}getNormalMatrix(e){return vo(this,e),this}}let Mo=0;class nl extends uo{constructor(e,{geometry:s,program:n,mode:r=e.TRIANGLES,frustumCulled:i=!0,renderOrder:a=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=Mo++,this.geometry=s,this.program=n,this.mode=r,this.frustumCulled=i,this.renderOrder=a,this.modelViewMatrix=new _e,this.normalMatrix=new Eo,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:e}));let s=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:s}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(n=>n&&n({mesh:this,camera:e}))}}const bs={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function xs(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function Ao(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function ws(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?xs(t):bs[t.toLowerCase()]?xs(bs[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):Ao(t)}class rl extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...ws(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(ws(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class il extends Ta{constructor(e,{attributes:s={}}={}){Object.assign(s,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,s)}}export{Xi as $,Po as A,bn as B,xn as C,$ as D,_n as E,gi as F,$o as G,Fo as H,No as I,Et as J,Bo as K,Ys as L,le as M,wn as N,Tn as O,Ko as P,ai as Q,ko as R,En as S,zt as T,Oo as U,ii as V,Wt as W,Uo as X,qo as Y,Yo as Z,Ho as _,Ro as a,Zo as a0,Li as a1,Jo as a2,Go as a3,xi as a4,Wo as a5,jo as a6,Xo as a7,Pi as a8,Qo as a9,el as aa,_o as ab,sl as ac,il as ad,rl as ae,tl as af,nl as ag,Mt as b,yi as c,Vo as d,Do as e,he as f,Lo as g,Zr as h,Js as i,fi as j,Fe as k,Ee as l,zo as m,ni as n,dt as o,S as p,Ln as q,K as r,te as s,Co as t,vs as u,H as v,Io as w,J as x,ee as y,pe as z};
